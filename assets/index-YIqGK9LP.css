/* =========================================
   LAYER 1: The Translation System
   ========================================= */
:root {
  --mp-bg-base: 0 0% 3.9%;
  --mp-bg-surface: 0 0% 14.9%;
  --mp-text-main: 0 0% 98%;
  --mp-text-muted: 0 0% 63.9%;
  --mp-border: 0 0% 14.9%;
  --mp-accent: 270 100% 65%;
}

/* =========================================
   LAYER 2: Base Theme Logic (Dark Modes)
   ========================================= */
body[class*="theme-"] {
  --background: var(--mp-bg-base) !important;
  --foreground: var(--mp-text-main) !important;
  --card: var(--mp-bg-surface) !important;
  --popover: var(--mp-bg-surface) !important;
  --secondary: var(--mp-bg-surface) !important;
  --muted: var(--mp-bg-surface) !important;
  --border: var(--mp-border) !important;
}

/* --- OLED & Others --- */
body.theme-oled {
  --mp-bg-base: 0 0% 0%;
  --mp-bg-surface: 0 0% 8%;
}

body.theme-oled [class*="bg-[#080808]"] {
  background-color: #000 !important;
}

/* =========================================
   LAYER 3: LIGHT MODE (The Master Fix)
   ========================================= */

body.theme-light {
  /* --- 0. Core Variables --- */
  --mp-bg-base: 0 0% 100%;
  /* White */
  --mp-bg-surface: 210 20% 96%;
  /* F3F4F6 */
  --mp-text-main: 222 47% 11%;
  /* 0F172A */
  --mp-text-muted: 215 16% 47%;
  /* 64748B */
  --mp-border: 214 32% 91%;
  /* E2E8F0 */
  --mp-accent: 270 100% 60%;
  /* Purple */

  /* --- 1. NAVBAR & HEADER --- */
  nav[class*="bg-[rgba(8,8,8"],
  header[class*="bg-[rgba(8,8,8"],
  div[class*="bg-[rgba(8,8,8"] {
    background-color: rgba(255, 255, 255, 0.95) !important;
    border-color: #e2e8f0 !important;
  }

  /* Force Logo Dark */
  nav img[alt="Moctale Logo"] {
    filter: invert(1) brightness(0) !important;
  }

  /* Force Nav Icons Dark */
  nav svg {
    color: #0f172a !important;
    stroke: #0f172a !important;
  }

  nav svg[style*="linear-gradient"] {
    background: none !important;
    -webkit-text-fill-color: #0f172a !important;
    color: #0f172a !important;
  }

  /* --- 2. GLOBAL BACKGROUNDS --- */
  background-color: #ffffff !important;

  [class*="bg-[#080808]"],
  [class*="bg-[#050505]"],
  [class*="bg-[#111111]"],
  aside {
    background-color: #ffffff !important;

    /* background-image: none !important; */
    /* }

  /* Cards / Surfaces */
    [class*="bg-[#171717]"],
    [class*="bg-[#1B1B1B]"],
    [class*="bg-[#1F1F1F]"],
    [class*="bg-[#202020]"],
    [class*="bg-[#252525]"],
    [class*="bg-[#2A2A2A]"],
    [class*="bg-[#2C2C2C]"],
    [class*="bg-[#131313]"] {
      background-color: #f1f5f9 !important;
      border-color: #e2e8f0 !important;
    }

    /* Hover States */
    [class*="hover:bg-[#171717]"]:hover,
    [class*="hover:bg-[#1F1F1F]"]:hover,
    [class*="hover:bg-[#2A2B2C]"]:hover,
    [class*="hover:bg-[#363636]"]:hover {
      background-color: #e2e8f0 !important;
    }

    /* --- 3. TEXT INVERSIONS --- */
    [class*="text-[#E2E2E2]"],
    [class*="text-white"],
    [class*="text-[#F5F5F5]"],
    [class*="text-[#E1E6F0]"],
    [class*="text-[#f5f5f5]"] {
      color: #0F172A !important;
    }

    [class*="text-[#C6C6C6]"],
    [class*="text-[#A0A0A0]"],
    [class*="text-[#919191]"],
    [class*="text-[#ABABAB]"],
    [class*="text-[#8A8A8A]"],
    [class*="text-[#787878]"],
    [class*="text-gray-300"],
    [class*="text-gray-400"] {
      color: #475569 !important;
    }

    /* --- 4. ICON FIXES --- */

    /* SVG Strokes/Fills */
    [stroke="#f5f5f5"] {
      stroke: #334155 !important;
    }

    [fill="#f5f5f5"] {
      fill: #334155 !important;
    }

    /* The "Everything Else" SVG Rule */
    svg:not([class*="text-[#0095F6]"]):not([class*="text-[#FF6233]"]) {
      color: #334155 !important;
      stroke: currentColor !important;
    }

    /* Social Icons (Reddit/SimpleIcons) */
    img[src*="cdn.simpleicons.org"] {
      filter: invert(1) brightness(0) !important;
      opacity: 0.8 !important;
    }

    /* --- 5. GRADIENTS (The Cast Section Fix) --- */

    /* Right-side Fade (Cast List): Transparent(Left) -> White(Right) */
    [class*="bg-gradient-to-r"][class*="to-[#080808]"] {
      background-image: linear-gradient(to right, transparent, #ffffff) !important;
      --tw-gradient-from: transparent !important;
      --tw-gradient-to: #ffffff !important;
    }

    /* Left-side Fade */
    [class*="bg-gradient-to-l"][class*="from-[#080808]"] {
      background-image: linear-gradient(to left, #ffffff, transparent) !important;
    }

    /* Hero Gradients (Bottom Up) */
    [class*="bg-gradient-to-t"][class*="from-[#080808]"],
    div[style*="linear-gradient(0deg, rgb(8, 8, 8)"] {
      background-image: linear-gradient(to top, #ffffff 10%, rgba(255, 255, 255, 0) 100%) !important;
    }

    /* Category Top Shadow (Remove) */
    .relative>video+div[class*="bg-gradient-to-b"] {
      display: none !important;
    }

    /* Other Downward Fades */
    [class*="bg-gradient-to-b"][class*="to-[#080808]"] {
      background: linear-gradient(to bottom, transparent, #ffffff) !important;
    }

    /* --- 6. TEXTFIELDS & INPUTS --- */
    input[type="text"] {
      background-color: #ffffff !important;
      color: #0f172a !important;
      border: 1px solid #cbd5e1 !important;
    }

    textarea,
    div[contenteditable="true"] {
      background-color: transparent !important;
      border: none !important;
      outline: none !important;
      color: #0f172a !important;
      box-shadow: none !important;
    }

    textarea::placeholder {
      color: #94a3b8 !important;
    }

    /* --- 7. BORDERS & DIVIDERS --- */
    [class*="border-[#252833]"],
    [class*="border-[#353945]"],
    [class*="border-[#474747]"],
    [class*="border-[#2B2B2B]"],
    [class*="border-gray-800"],
    hr {
      border-color: #e2e8f0 !important;
    }

    /* --- 8. MISC FIXES --- */

    /* Video Player Border Removal */
    .aspect-\[2\.68\/1\],
    .aspect-\[1\.6\/1\] {
      border: none !important;
      background: transparent !important;
      box-shadow: none !important;
    }

    /* Calendar Date Box */
    [aria-label^="Date:"] {
      background-color: #f1f5f9 !important;
      border: 1px solid #e2e8f0 !important;
    }

    [aria-label^="Date:"] [class*="text-white"] {
      color: #0f172a !important;
    }

    /* Buttons */
    button[class*="bg-[#1A1A1A]"] {
      background-color: #e2e8f0 !important;
      color: #0f172a !important;
    }

    button[class*="bg-[#B048FF]"],
    button[class*="bg-primary"] {
      color: #ffffff !important;
    }

    button[class*="bg-white/20"],
    button[class*="bg-white/5"] {
      background-color: #e2e8f0 !important;
      color: #0f172a !important;
    }

    button[class*="bg-white/20"] svg,
    button[class*="bg-white/5"] svg {
      filter: invert(1) !important;
    }

    /* Cast Hover */
    [class*="group-hover:bg-white/10"]:hover {
      background-color: rgba(0, 0, 0, 0.05) !important;
    }

    /* Modals */
    [data-radix-menu-content],
    [role="dialog"],
    [role="menu"] {
      background-color: rgba(255, 255, 255, 0.98) !important;
      border-color: #e2e8f0 !important;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1) !important;
    }

    /* --- 1. BROWSE BY POPUP (Grid Cards) --- */

    /* Kill the dark gradient on category cards */
    a[class*="bg-gradient-to-br"][class*="from-[#171717]"] {
      background-image: none !important;
      background-color: #f8fafc !important;
      /* Slate-50 */
      border-color: #e2e8f0 !important;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05) !important;
    }

    /* Hover State */
    a[class*="bg-gradient-to-br"]:hover {
      background-color: #f1f5f9 !important;
      /* Slate-100 */
      border-color: #cbd5e1 !important;
    }

    /* The little round icon container inside cards */
    a[class*="bg-gradient-to-br"] div[class*="bg-[#171717]"] {
      background-color: #ffffff !important;
      border: 1px solid #e2e8f0 !important;
    }

    /* Text inside cards */
    a[class*="bg-gradient-to-br"] h4 {
      color: #0f172a !important;
      /* Force Black Text */
      font-weight: 600 !important;
    }

    /* --- 2. TAB SELECTORS (Movies/Shows Pills) --- */

    /* The Container Track */
    [role="tablist"] {
      background-color: #f1f5f9 !important;
      /* Light Gray */
      border: 1px solid #e2e8f0 !important;
    }

    /* INACTIVE Tabs: Dark Gray Text on Transparent */
    button[role="tab"][data-state="inactive"] {
      background-color: transparent !important;
      color: #64748b !important;
      /* Slate-500 */
    }

    button[role="tab"][data-state="inactive"]:hover {
      background-color: #e2e8f0 !important;
      color: #0f172a !important;
    }

    /* ACTIVE Tabs: Black Background, White Text */
    button[role="tab"][data-state="active"] {
      background-color: #0f172a !important;
      /* Slate-900 */
      color: #ffffff !important;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
    }

    /* Vertical Divider Line between tab groups */
    .h-6.w-px.bg-\[rgba\(255\,255\,255\,0\.4\)\] {
      background-color: #cbd5e1 !important;
      /* Make it visible gray */
    }

    /* ---------------------- */

    /* --- 10. CATEGORY PAGE FIXES (Search & Pills) --- */

    /* Search Bar Container */
    /* Make the container invisible (transparent bg, no border) */
    div[class*="bg-[#2A2A2A]"] {
      background-color: transparent !important;
      /* border: none !important; */
      box-shadow: none !important;
    }

    /* Ensure the Search Icon is dark so it's visible on white */
    div[class*="bg-[#2A2A2A]"] svg {
      color: #64748b !important;
      /* Slate-500 */
    }

    /* Ensure the input text & placeholder are visible */
    div[class*="bg-[#2A2A2A]"] input {
      background-color: transparent !important;
      border: none !important;
      box-shadow: none !important;
    }

    /* Category Pills (The Grid Items) */
    a[class*="bg-[#151515]"] {
      background-color: #f8fafc !important;
      /* Slate-50 */
      border: 1px solid #e2e8f0 !important;
      /* Slate-200 */
      box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.03) !important;
      transition: all 0.2s ease !important;
    }

    /* Pill Hover State */
    a[class*="bg-[#151515]"]:hover {
      background-color: #ffffff !important;
      border-color: #cbd5e1 !important;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1) !important;
      transform: translateY(-1px) !important;
    }

    /* Pill Text */
    a[class*="bg-[#151515]"] h3 {
      color: #334155 !important;
      font-weight: 600 !important;
    }

    a[class*="bg-[#151515]"]:hover h3 {
      color: #0f172a !important;
    }

    /* The Huge "A", "B", "C" Letters */
    h2[class*="text-6xl"] {
      color: #9c9c9c !important;
    }

    /* EMPTY STATE FIX (Category Search) */
    /* "No categories found" Container */
    /* Turn dark bg (#101010) into a light card */
    div[class*="bg-[#101010]"] {
      background-color: #f8fafc !important;
      /* Slate-50 */
      border: 1px dashed #cbd5e1 !important;
      /* Dashed Slate-300 Border */
      box-shadow: none !important;
    }

    /* "Clear Search" Button */
    /* Ensure the purple background tint is visible on white */
    button[class*="bg-[#740DF6]/10"] {
      background-color: rgba(116, 13, 246, 0.1) !important;
    }

    button[class*="bg-[#740DF6]/10"]:hover {
      background-color: rgba(116, 13, 246, 0.2) !important;
    }

    /* ------------------------------------ */

    /* Sidebar Container (Glassmorphism Card) */
    /* Targets: bg-card/50, backdrop-blur-sm, border-border/50 */
    div[class*="bg-card/50"],
    div[class*="bg-card"] {
      background-color: rgba(255, 255, 255, 0.9) !important;
      border: 1px solid #e2e8f0 !important;
      /* Slate-200 */
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05) !important;
      color: #0f172a !important;
    }

    /* Filter Section Headers ("Sort By", "Content Type") */
    h4[class*="text-muted-foreground"],
    .text-muted-foreground {
      color: #64748b !important;
      /* Slate-500 */
      font-weight: 600 !important;
    }

    /* Divider Lines */
    div[class*="bg-border"] {
      background-color: #e2e8f0 !important;
      /* Slate-200 */
    }

    /* Toggle Switch (Hide Watched) */
    /* Unchecked State: Light Gray */
    button[role="switch"][data-state="unchecked"] {
      background-color: #cbd5e1 !important;
      /* Slate-300 */
    }

    /* Checked State: Dark/Brand Color */
    button[role="switch"][data-state="checked"] {
      background-color: #0f172a !important;
      /* Slate-900 */
    }

    /* Dropdowns (Sort By) */
    /* Turn the dark input into a white bordered box */
    button[role="combobox"] {
      background-color: #ffffff !important;
      border: 1px solid #cbd5e1 !important;
      color: #0f172a !important;
      box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05) !important;
    }

    /* Filter Pills (Movies, Shows, Streaming Services) */
    /* These use 'bg-background' which we set to white globally, but let's reinforce borders */
    button[class*="bg-background"][class*="shadow-sm"] {
      background-color: #ffffff !important;
      border: 1px solid #e2e8f0 !important;
      color: #334155 !important;
      /* Slate-700 */
      box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.02) !important;
    }

    /* Hover state for Pills */
    button[class*="bg-background"][class*="shadow-sm"]:hover {
      background-color: #f8fafc !important;
      /* Slate-50 */
      border-color: #cbd5e1 !important;
      color: #0f172a !important;
    }

    /* Icons inside Pills (Netflix, Prime, etc) */
    /* Ensure the tiny container for the logo isn't dark */
    button div[class*="bg-background"] {
      background-color: #ffffff !important;
    }

    /* Remove dark gradient background from special filter buttons */
    button[class*="bg-gradient-to-r"][class*="from-[#1A1A1A]"] {
      background: transparent !important;
      background-image: none !important;
      box-shadow: none !important;
      /* Optional: Clean look */
    }

    /* ------------------ */
    /* --- 14. PROFILE MENU FIXES --- */

    /* Target Radix Popovers specifically */
    [id^="radix-"][role="dialog"] {
      background-color: rgba(255, 255, 255, 0.98) !important;
      border-color: #e2e8f0 !important;
    }

    /* Standard Menu Items (Profile, Reviews, etc.) */
    [id^="radix-"][role="dialog"] a,
    [id^="radix-"][role="dialog"] button:not([class*="text-red"]) {
      color: #334155 !important;
      /* Slate-700 */
    }

    /* Hover State: Light Gray BG + Dark Text */
    [id^="radix-"][role="dialog"] a:hover,
    [id^="radix-"][role="dialog"] button:not([class*="text-red"]):hover {
      background-color: #f1f5f9 !important;
      /* Slate-100 */
      color: #0f172a !important;
      /* Black */
    }

    /* Logout Button (Red) */
    /* Make red text clearer and hover state pinkish-red */
    [id^="radix-"][role="dialog"] button[class*="text-red"] {
      color: #ef4444 !important;
      /* Red-500 */
    }

    [id^="radix-"][role="dialog"] button[class*="text-red"]:hover {
      background-color: #fef2f2 !important;
      /* Red-50 (Very light pink) */
      color: #b91c1c !important;
      /* Red-700 */
    }

    /* --- 15. LOGIN & AUTH SCREEN FIXES --- */

    /* 1. Main Background Gradient */
    /* Remove the dark gradient covering the right side of the screen */
    div[class*="from-[#080808]"][class*="to-[#131313]"] {
      background: #ffffff !important;
      background-image: none !important;
    }

    /* 2. Authentication Card */
    /* Add a border/shadow to the login card so it separates from the white bg */
    div[class*="bg-white"][class*="rounded-lg"] {
      border: 1px solid #e2e8f0 !important;
      /* Slate-200 */
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05) !important;
    }

    /* 3. Logo Fix (Specific to Login Page) */
    /* The logo is likely white text, so we invert it to black */
    div[class*="mb-[4vh]"] img[alt="Moctale Logo"] {
      filter: invert(1) brightness(0) !important;
      opacity: 1 !important;
    }

    /* 4. Text Visibility Fixes */
    /* "Don't have an account?" is white text. Force it dark. */
    .mt-4 p[class*="text-white"],
    .mt-4 button[class*="text-white"] {
      color: #475569 !important;
      /* Slate-600 */
    }

    .mt-4 button[class*="text-white"]:hover {
      color: #0f172a !important;
      /* Slate-900 (Black) */
      text-decoration: underline;
    }

    /* 5. Form Elements */
    /* Toggle Switch Background (Username/Phone) */
    div[class*="bg-gray-100"] {
      background-color: #f1f5f9 !important;
      /* Slate-100 */
    }

    /* Input Fields */
    /* Ensure they have a distinct border */
    form input {
      background-color: #ffffff !important;
      border: 1px solid #cbd5e1 !important;
      /* Slate-300 */
      color: #0f172a !important;
    }

    form input:focus {
      border-color: #8b5cf6 !important;
      /* Purple focus */
      box-shadow: 0 0 0 1px #8b5cf6 !important;
    }

    /* "Forgot Password?" Link */
    button[class*="text-dark/80"] {
      color: #64748b !important;
    }

    button[class*="text-dark/80"]:hover {
      color: #0f172a !important;
    }

    /* Custom "text-dark" utility override */
    [class*="text-dark"] {
      color: #0f172a !important;
    }

    /* --- 16. SECTION HEADER ICONS FIX --- */
    /* These are hosted on media.moctale.in but are UI icons, not content */
    body.theme-light img[alt="Most Interested"],
    body.theme-light img[alt="Talk Of The Town"],
    body.theme-light img[alt="Editor's Pick Of The Week"] {
      filter: invert(1) brightness(0) !important;
      opacity: 0.85 !important;
    }

    /* --- 16. PROFILE TABS & FILTER PILLS --- */

    /* 1. The Pill Track (Container) */
    /* Targets the dark backgrounds behind the tabs */
    div[class*="bg-[#131313]"],
    div[class*="bg-[#1B1B1B]"] {
      background-color: #f1f5f9 !important;
      /* Slate-100 */
      border: 1px solid #e2e8f0 !important;
      /* Slate-200 */
    }

    /* 2. The Sliding Indicator (The moving active background) */
    /* Targets the absolute positioned div that slides behind text */
    div[class*="bg-[#474747]"],
    div[style*="rgb(71, 71, 71)"] {
      background-color: #ffffff !important;
      /* White */
      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1) !important;
      border: 1px solid #cbd5e1 !important;
      /* Subtle border */
    }

    /* 3. Text Colors */
    /* Active Tab Text */
    button[class*="text-[#E2E2E2]"] {
      color: #0f172a !important;
      /* Slate-900 (Black) */
      font-weight: 600 !important;
    }

    /* Inactive Tab Text */
    button[class*="text-[#C6C6C6]"] {
      color: #64748b !important;
      /* Slate-500 (Gray) */
    }

    button[class*="text-[#C6C6C6]"]:hover {
      color: #0f172a !important;
    }

    /* 4. View Toggle Buttons (List vs Grid) */
    /* Active Button (was bg-[#252525]) -> White Card */
    button[aria-label*="Show as"][class*="bg-[#252525]"] {
      background-color: #ffffff !important;
      color: #0f172a !important;
      border: 1px solid #e2e8f0 !important;
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05) !important;
    }

    /* Inactive Button (was bg-[#1B1B1B]) -> Gray */
    button[aria-label*="Show as"][class*="bg-[#1B1B1B]"] {
      background-color: #f1f5f9 !important;
      color: #94a3b8 !important;
    }

    button[aria-label*="Show as"][class*="bg-[#1B1B1B]"]:hover {
      background-color: #e2e8f0 !important;
      color: #64748b !important;
    }

    /* 5. Mobile Dropdown (All Reviews) */
    button[role="combobox"][class*="bg-[#1B1B1B]"] {
      background-color: #ffffff !important;
      border: 1px solid #cbd5e1 !important;
      color: #0f172a !important;
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05) !important;
    }

    /* 6. Search Button (Round) */
    button[aria-label="Search reviews"][class*="bg-[#1B1B1B]"] {
      background-color: #f1f5f9 !important;
      border: 1px solid #e2e8f0 !important;
      color: #64748b !important;
    }

    button[aria-label="Search reviews"]:hover {
      background-color: #e2e8f0 !important;
      color: #0f172a !important;
    }

    /* --- 17. COLLECTIONS & PROFILE STATS FIXES --- */

    /* A. Profile Stats Section */

    /* Horizontal Divider Line */
    /* The separator between stats and followers (bg-[#252833]) */
    div[class*="bg-[#252833]"][class*="h-px"] {
      background-color: #e2e8f0 !important;
      /* Slate-200 */
    }

    /* Make it a clean light gray button with dark text */
    a[href*="/accounts/edit"][class*="bg-[#474747]"] {
      background-color: #f1f5f9 !important;
      /* Slate-100 */
      border: 1px solid #cbd5e1 !important;
      color: #0f172a !important;
    }

    a[href*="/accounts/edit"][class*="bg-[#474747]"]:hover {
      background-color: #e2e8f0 !important;
    }

    /* B. Collections Sidebar */

    /* 1. The Container (The "Pill" Shape) - KEEPS BORDER */
    div[class*="bg-[#2C2C2C]"] {
      background-color: #ffffff !important;
      border: 1px solid #cbd5e1 !important;
      /* The visible border you want */
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05) !important;
    }

    /* 2. The Input Field Inside - REMOVES BORDER */
    div[class*="bg-[#2C2C2C]"] input {
      border: none !important;
      /* Remove inner border */
      background: transparent !important;
      box-shadow: none !important;
      /* Remove focus ring */
      color: #0f172a !important;
      /* Dark Text */
      outline: none !important;
    }

    /* 3. The Search Icon Inside */
    div[class*="bg-[#2C2C2C]"] svg {
      color: #94a3b8 !important;
      /* Slate-400 */
    }


    /* Sidebar Filter Pills (All / Public / Private) */
    /* ACTIVE State (aria-pressed="true"): Dark BG, White Text */
    button[aria-pressed="true"][class*="bg-[#474747]"] {
      background-color: #0f172a !important;
      /* Black/Slate-900 */
      color: #ffffff !important;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
    }

    /* INACTIVE State (aria-pressed="false"): Light BG, Gray Text */
    button[aria-pressed="false"][class*="bg-[#1B1B1B]"] {
      background-color: #f1f5f9 !important;
      /* Slate-100 */
      color: #64748b !important;
      /* Slate-500 */
      border: 1px solid #e2e8f0 !important;
    }

    button[aria-pressed="false"]:hover {
      background-color: #e2e8f0 !important;
      color: #0f172a !important;
    }

    /* Active/Selected Row (bg-[#171717]) */
    div[class*="bg-[#171717]"][class*="cursor-pointer"] {
      background-color: #ffffff !important;
      border-color: #cbd5e1 !important;
      /* Darker border for active */
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05) !important;
    }

    /* Inactive Row (bg-transparent) */
    div[class*="bg-transparent"][class*="hover:bg-[#171717]"]:hover {
      background-color: #f8fafc !important;
      /* Very light gray on hover */
      border-color: #e2e8f0 !important;
    }

    /* C. Collection Main Header */

    /* "Public" / "Private" Badge */
    /* Target the transparent white bg (bg-gray-100/10) */
    div[class*="bg-gray-100/10"] {
      background-color: #f1f5f9 !important;
      /* Solid Light Gray */
      border-color: #cbd5e1 !important;
      color: #475569 !important;
      /* Slate-600 */
    }

    /* Fix the icon inside the badge */
    div[class*="bg-gray-100/10"] svg {
      color: #64748b !important;
    }

    /* "Hide Watched" Button */
    button[class*="hover:bg-[#232323]/50"] {
      background-color: transparent !important;
      border: 1px solid #e2e8f0 !important;
      color: #64748b !important;
    }

    button[class*="hover:bg-[#232323]/50"]:hover {
      background-color: #f1f5f9 !important;
      color: #0f172a !important;
    }
  }

  /* =======================================================
   UNIVERSAL ICON INVERTER (Fixed)
   ======================================================= */

  /* 1. Invert Local UI Icons (SVGs, paths starting with /) */
  img[src^="/"]:not([src^="/media"]),
  img[src$=".svg"],
  img[alt*="Icon"],
  img[alt*="Logo"],
  img[alt="Most Interested"],
  img[alt="Talk Of The Town"] {
    body.theme-light & {
      filter: invert(1) brightness(0) !important;
      opacity: 0.85 !important;
    }
  }

  /* 2. Invert Specific Small Icons (BUT EXCLUDE OTT LOGOS) */
  /* This was the culprit: w-[18px] was catching the OTT logos */
  img[class*="w-[18px]"]:not([alt*="Don't Miss"]):not([alt*="Worth Watching"]),
  img[class*="w-[24px]"]:not([alt*="Don't Miss"]):not([alt*="Worth Watching"]) {
    body.theme-light & {
      filter: invert(1) brightness(0) !important;
      opacity: 0.85 !important;
    }
  }

  /* 3. Safety Check: Protect Content & OTT Logos */
  img[alt*="Profile"],
  img[alt*="Avatar"],
  img[class*="object-cover"],
  img[src*="media.moctale.in"]:not([alt="Most Interested"]):not([alt="Talk Of The Town"]) {
    filter: none !important;
    opacity: 1 !important;
  }

  /* Make Moctale Select pills transparent */
  body.theme-light div[role="button"][class*="bg-gradient-to-r"][class*="from-[#1A1A1A]"] {
    background: transparent !important;
    background-image: none !important;
    box-shadow: none !important;
  }

  /* Hide hero background video entirely */
  body.theme-light div.relative.w-full.overflow-hidden>div.absolute {
    background: transparent !important;
  }

  /* Reuse Explorer screen background gradient for hero */
  body.theme-light div.relative.w-full.overflow-hidden {
    background-image: linear-gradient(135deg,
        hsl(var(--mp-bg-surface)) 0%,
        hsl(var(--mp-bg-base)) 100%) !important;
    background-repeat: no-repeat;
    background-size: cover;
  }

  /* Tabs container */
  body.theme-light div[role="tablist"][class*="bg-[#1B1B1B]"] {
    background-color: #f1f5f9 !important;
    /* surface */
  }

  /* Active tab */
  body.theme-light button[role="tab"][data-state="active"] {
    background-color: #ffffff !important;
    color: #0f172a !important;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.06) !important;
  }

  /* Inactive tab */
  body.theme-light button[role="tab"][data-state="inactive"] {
    color: #64748b !important;
  }

  body.theme-light button[role="combobox"] svg {
    color: #475569 !important;
    stroke: currentColor !important;
  }

  /* Wrapper blocks */
  body.theme-light div[class*="bg-[#1B1B1B]"] {
    background-color: #f8fafc !important;
  }

  body.theme-light button[class*="border-[#4DB8E8]"] {
    background-color: transparent !important;
  }

  /* Overview description text — force black */
  body.theme-light div.w-full.pb-\[39px\][class*="border-b"] p {
    color: #000000 !important;
  }

  /* ------------------------------------------- */

  /* =========================
   LIGHT THEME — REVIEWS UI
   ========================= */

  /* Section headings */
  body.theme-light h2 {
    color: #0f172a;
  }

  /* ────────────────────────
   Combobox / Dropdown
   ──────────────────────── */
  body.theme-light [role="combobox"] {
    background-color: #ffffff !important;
    color: #0f172a !important;
    border: 1px solid #d1d5db !important;
  }

  body.theme-light [role="combobox"]:hover,
  body.theme-light [role="combobox"][data-state="open"] {
    background-color: #f1f5f9 !important;
  }

  body.theme-light [role="combobox"] span {
    color: #0f172a !important;
  }

  body.theme-light [role="combobox"] svg {
    color: #475569 !important;
  }

  /* Radix dropdown panel */
  body.theme-light [data-radix-popper-content-wrapper] {
    background-color: #ffffff !important;
    color: #0f172a !important;
    border: 1px solid #e5e7eb !important;
  }

  /* Dropdown options */
  body.theme-light [role="option"] {
    color: #0f172a !important;
  }

  body.theme-light [role="option"]:hover,
  body.theme-light [role="option"][aria-selected="true"] {
    background-color: #e2e8f0 !important;
  }

  /* ────────────────────────
   Checkbox pills
   ──────────────────────── */
  body.theme-light [role="checkbox"] {
    background-color: #ffffff !important;
    border-color: #9333ea !important;
  }

  body.theme-light [role="checkbox"]+span {
    color: #0f172a !important;
  }

  /* ────────────────────────
   Review cards
   ──────────────────────── */
  body.theme-light div.rounded-2xl.p-3 {
    background-color: #f8fafc !important;
  }

  /* Vote buttons container */
  body.theme-light div.rounded-full.p-1 {
    background-color: #e5e7eb !important;
    border: 1px solid #d1d5db !important;
  }

  /* Non-active vote buttons */
  body.theme-light div.rounded-full.p-1 button {
    color: #0f172a !important;
  }

  /* Preserve highlighted button */
  body.theme-light div.rounded-full.p-1 button[style*="252, 183, 0"] {
    color: #000000 !important;
  }

  /* ────────────────────────
   Textarea
   ──────────────────────── */
  body.theme-light textarea {
    color: #0f172a !important;
  }

  body.theme-light textarea::placeholder {
    color: #64748b !important;
  }

  /* Character counter */
  body.theme-light .text-\[\#6B7280\] {
    color: #64748b !important;
  }

  /* ────────────────────────
   Action buttons
   ──────────────────────── */
  body.theme-light button {
    color: #0f172a;
  }

  body.theme-light button.bg-white {
    background-color: #0f172a !important;
    color: #ffffff !important;
  }

  /* Checkbox pill — hover + text fix */
  body.theme-light div.bg-background.hover\:bg-accent {
    background-color: #ffffff !important;
    border-color: #d1d5db !important;
  }

  body.theme-light div.bg-background.hover\:bg-accent:hover {
    background-color: #f1f5f9 !important;
  }

  /* Text inside pill */
  body.theme-light div.bg-background.hover\:bg-accent span {
    color: #0f172a !important;
  }

  /* Checkbox */
  body.theme-light div.bg-background.hover\:bg-accent:hover [role="checkbox"] {
    background-color: #ffffff !important;
  }

  /* -------------------------------------- */

  /* Target all buttons inside the specific container for light theme */
  body.theme-light div.bg-\[rgba\(8\,8\,8\,0\.8\)\].backdrop-blur-\[16px\].border.border-\[\#252833\].rounded-2xl.p-4 div.flex.flex-col.gap-1 button {
    background-color: transparent !important;
    color: #0f172a !important;
    /* inactive text */
  }

  /* Active/selected button */
  body.theme-light div.bg-\[rgba\(8\,8\,8\,0\.8\)\].backdrop-blur-\[16px\].border.border-\[\#252833\].rounded-2xl.p-4 div.flex.flex-col.gap-1 button[aria-pressed="true"],
  body.theme-light div.bg-\[rgba\(8\,8\,8\,0\.8\)\].backdrop-blur-\[16px\].border.border-\[\#252833\].rounded-2xl.p-4 div.flex.flex-col.gap-1 button.active,
  body.theme-light div.bg-\[rgba\(8\,8\,8\,0\.8\)\].backdrop-blur-\[16px\].border.border-\[\#252833\].rounded-2xl.p-4 div.flex.flex-col.gap-1 button:disabled {
    background-color: #B048FF !important;
    /* purple */
    color: #ffffff !important;
    /* white text */
  }

  /* Hover for inactive buttons */
  body.theme-light div.bg-\[rgba\(8\,8\,8\,0\.8\)\].backdrop-blur-\[16px\].border.border-\[\#252833\].rounded-2xl.p-4 div.flex.flex-col.gap-1 button:not([aria-pressed="true"]):not(.active):not(:disabled):hover {
    background-color: rgba(176, 72, 255, 0.1) !important;
    /* light purple hover */
    color: #0f172a !important;
  }

  /* Icon colors */
  body.theme-light div.bg-\[rgba\(8\,8\,8\,0\.8\)\].backdrop-blur-\[16px\].border.border-\[\#252833\].rounded-2xl.p-4 div.flex.flex-col.gap-1 button img {
    filter: brightness(0) invert(0) !important;
    /* black for inactive */
  }

  /* Icon colors for active button */
  body.theme-light div.bg-\[rgba\(8\,8\,8\,0\.8\)\].backdrop-blur-\[16px\].border.border-\[\#252833\].rounded-2xl.p-4 div.flex.flex-col.gap-1 button[aria-pressed="true"] img,
  body.theme-light div.bg-\[rgba\(8\,8\,8\,0\.8\)\].backdrop-blur-\[16px\].border.border-\[\#252833\].rounded-2xl.p-4 div.flex.flex-col.gap-1 button.active img,
  body.theme-light div.bg-\[rgba\(8\,8\,8\,0\.8\)\].backdrop-blur-\[16px\].border.border-\[\#252833\].rounded-2xl.p-4 div.flex.flex-col.gap-1 button:disabled img {
    filter: brightness(0) invert(1) !important;
    /* white for active */
  }

  /* --------------------------------------------------- */

  /* Light theme fix: horizontal scroll fade overlay */
  body.theme-light div[style*="linear-gradient(to left"][style*="rgb(8, 8, 8)"] {
    background: linear-gradient(to left,
        rgb(255, 255, 255) 0%,
        rgba(255, 255, 255, 0.95) 20%,
        rgba(255, 255, 255, 0.7) 50%,
        rgba(255, 255, 255, 0) 100%) !important;
  }

  /* -------------------------------- */

  /* === Light theme: comment textfield + emoji trigger === */

  /* Field container */
  body.theme-light div.bg-\[\#1A1A1A\].border-\[\#252833\] {
    background-color: #ffffff !important;
    border-color: #d1d5db !important;
    /* neutral light gray */
  }

  /* Textarea text */
  body.theme-light div.bg-\[\#1A1A1A\] textarea {
    color: #111827 !important;
    /* near-black */
  }

  /* Placeholder */
  body.theme-light div.bg-\[\#1A1A1A\] textarea::placeholder {
    color: #6b7280 !important;
    /* muted gray */
  }

  /* Emoji button default */
  body.theme-light div.bg-\[\#1A1A1A\] button[aria-label="Add emoji"] {
    color: #6b7280 !important;
  }

  /* Emoji button hover */
  body.theme-light div.bg-\[\#1A1A1A\] button[aria-label="Add emoji"]:hover {
    background-color: #f3f4f6 !important;
    color: #111827 !important;
  }

  /* Light theme: emoji picker popup */
  body.theme-light [class*="emoji"],
  [class*="picker"],
  [class*="Emoji"] {
    background-color: #ffffff !important;
    color: #111827 !important;
    border-color: #e5e7eb !important;
  }

  /* -------------------------------------------------------- */

  /* Force Join Club "+" icon to white */
  body.theme-light button.bg-white.text-black svg {
    color: #ffffff !important;
  }

  /* Light theme: Load More button fix */
  body.theme-light button.bg-\[\#474747\] {
    background-color: rgb(255, 255, 255) !important;
    color: rgb(17, 17, 17) !important;
    border: 1px solid rgb(220, 220, 220);
  }

  /* Hover state */
  body.theme-light button.bg-\[\#474747\]:hover {
    background-color: rgb(245, 245, 245) !important;
  }

  /* --------------- unwatch issue -------------------- */

  /* Light theme fix: modal backdrop */
  div[role="dialog"].fixed.inset-0 {
    background-color: rgba(255, 255, 255, 0.75) !important;
    backdrop-filter: blur(6px) !important;
  }

  /* Light theme fix: modal container */
  div[role="dialog"]>div[style*="bg"][class*="rounded-2xl"] {
    background: #ffffff !important;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15) !important;
  }

  /* Headings */
  div[role="dialog"] h3 {
    color: #111111 !important;
  }

  /* Description text */
  div[role="dialog"] p {
    color: #444444 !important;
  }

  /* Close (X) button */
  div[role="dialog"] button[aria-label="Close dialog"] {
    color: #333333 !important;
  }

  /* Cancel button */
  div[role="dialog"] button:not([class*="red"]) {
    background: #f0f0f0 !important;
    color: #111111 !important;
  }

  div[role="dialog"] button:not([class*="red"]):hover {
    background: #e4e4e4 !important;
  }

  /* Destructive button (Unwatch) – keep intent */
  div[role="dialog"] button[class*="red"] {
    background: rgba(239, 68, 68, 0.15) !important;
  }

  /* Light theme: modal text colour correction */
  div[role="dialog"] h3 {
    color: #111111 !important;
  }

  div[role="dialog"] p {
    color: #4a4a4a !important;
  }

  /* Close (X) icon */
  div[role="dialog"] button[aria-label="Close dialog"] {
    color: #333333 !important;
  }

  div[role="dialog"] button[aria-label="Close dialog"]:hover {
    color: #000000 !important;
  }

  /* Cancel button text */
  div[role="dialog"] button:not([class*="red"]) {
    color: #111111 !important;
  }

  /* Destructive action text — keep emphasis */
  div[role="dialog"] button[class*="red"] {
    color: #dc2626 !important;
  }
}

/* === 1. Upload Image Button (Top Right) === */
body.theme-light button.bg-black\/70 {
  background-color: rgba(255, 255, 255, 0.9) !important;
  border: 1px solid rgba(0, 0, 0, 0.1) !important;
}

body.theme-light button.bg-black\/70:hover {
  background-color: rgba(255, 255, 255, 1) !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
}

body.theme-light button.bg-black\/70 svg {
  color: #0f172a !important;
  stroke: #0f172a !important;
}

/* === 2. Collection Filter Pills (All/Public/Private) === */

/* Active/Selected State (aria-pressed="true") */
body.theme-light button.jsx-e41823554484066f[aria-pressed="true"] {
  background-color: #0f172a !important;
  color: #ffffff !important;
}

body.theme-light button.jsx-e41823554484066f[aria-pressed="true"] svg {
  color: #ffffff !important;
}

/* Inactive State (aria-pressed="false") */
body.theme-light button.jsx-e41823554484066f[aria-pressed="false"] {
  background-color: #f1f5f9 !important;
  color: #64748b !important;
  border: 1px solid #e2e8f0 !important;
}

body.theme-light button.jsx-e41823554484066f[aria-pressed="false"] svg {
  color: #64748b !important;
}

/* Hover on Inactive */
body.theme-light button.jsx-e41823554484066f[aria-pressed="false"]:hover {
  background-color: #e2e8f0 !important;
  color: #0f172a !important;
}

body.theme-light button.jsx-e41823554484066f[aria-pressed="false"]:hover svg {
  color: #0f172a !important;
}

/* === 3. Purple Add Button (Gradient) === */
body.theme-light button[class*="from-[#8F44F0]"][class*="to-[#B048FF]"] {
  /* Keep the gradient - it looks good on both themes */
  background: linear-gradient(to bottom right, #8F44F0, #B048FF) !important;
}

body.theme-light button[class*="from-[#8F44F0]"] svg {
  color: #ffffff !important;
  stroke: #ffffff !important;
}

body.theme-light button[class*="from-[#8F44F0]"]:hover {
  opacity: 0.9 !important;
}

/* --------------------- */

/* === Unwatch Dialog/Modal === */

/* Modal Container */
body.theme-light div[class*="bg-[#1A1A1A]"].rounded-2xl {
  background-color: #ffffff !important;
  border: 1px solid #e2e8f0 !important;
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15) !important;
}

/* Close Button (X) */
body.theme-light div[class*="bg-[#1A1A1A]"] button[aria-label="Close dialog"] {
  color: #64748b !important;
}

body.theme-light div[class*="bg-[#1A1A1A]"] button[aria-label="Close dialog"]:hover {
  color: #0f172a !important;
}

body.theme-light div[class*="bg-[#1A1A1A]"] button[aria-label="Close dialog"] svg {
  color: inherit !important;
  stroke: currentColor !important;
}

/* Dialog Title */
body.theme-light div[class*="bg-[#1A1A1A]"] h3[id="dialog-title"] {
  color: #0f172a !important;
}

/* Dialog Description */
body.theme-light div[class*="bg-[#1A1A1A]"] p[id="dialog-description"] {
  color: #64748b !important;
}

/* Cancel Button (white/10 background) */
body.theme-light div[class*="bg-[#1A1A1A]"] button[class*="bg-white/10"] {
  background-color: #f1f5f9 !important;
  color: #0f172a !important;
}

body.theme-light div[class*="bg-[#1A1A1A]"] button[class*="bg-white/10"]:hover {
  background-color: #e2e8f0 !important;
}

/* Unwatch Button (red destructive) */
body.theme-light div[class*="bg-[#1A1A1A]"] button[class*="bg-red-500/20"] {
  background-color: rgba(239, 68, 68, 0.15) !important;
  color: #dc2626 !important;
}

body.theme-light div[class*="bg-[#1A1A1A]"] button[class*="bg-red-500/20"]:hover {
  background-color: rgba(239, 68, 68, 0.25) !important;
  color: #b91c1c !important;
}

/* Modal Backdrop (if exists) */
body.theme-light div[role="dialog"].fixed.inset-0 {
  background-color: rgba(0, 0, 0, 0.4) !important;
  backdrop-filter: blur(4px) !important;
}

/* ------------------------------ */

/* === Combobox/Dropdown (This Month, etc.) === */

/* Button Default State */
body.theme-light button[role="combobox"] {
  background-color: #ffffff !important;
  border: 1px solid #cbd5e1 !important;
  color: #0f172a !important;
}

body.theme-light button[role="combobox"] span {
  color: #0f172a !important;
}

body.theme-light button[role="combobox"] svg {
  color: #64748b !important;
  stroke: #64748b !important;
  opacity: 0.7 !important;
}

/* Button Hover State */
body.theme-light button[role="combobox"]:hover {
  background-color: #f8fafc !important;
  border-color: #94a3b8 !important;
}

body.theme-light button[role="combobox"]:hover svg {
  opacity: 1 !important;
  color: #475569 !important;
}

/* Button Open/Expanded State */
body.theme-light button[role="combobox"][data-state="open"],
body.theme-light button[role="combobox"][aria-expanded="true"] {
  background-color: #f1f5f9 !important;
  border-color: #64748b !important;
}

/* Button Focus State */
body.theme-light button[role="combobox"]:focus {
  outline: none !important;
  border-color: #8b5cf6 !important;
  box-shadow: 0 0 0 1px #8b5cf6 !important;
}

/* === Dropdown Panel/Popover === */

/* Dropdown Container */
body.theme-light [data-radix-popper-content-wrapper],
body.theme-light [role="listbox"],
body.theme-light div[id^="radix-"][role="listbox"] {
  background-color: #ffffff !important;
  border: 1px solid #e2e8f0 !important;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;
}

/* Dropdown Options/Items */
body.theme-light [role="option"],
body.theme-light div[role="option"] {
  color: #0f172a !important;
  background-color: transparent !important;
}

/* Dropdown Option Hover */
body.theme-light [role="option"]:hover,
body.theme-light div[role="option"]:hover {
  background-color: #f1f5f9 !important;
  color: #0f172a !important;
}

/* Dropdown Option Selected */
body.theme-light [role="option"][aria-selected="true"],
body.theme-light [role="option"][data-state="checked"] {
  background-color: #e2e8f0 !important;
  color: #0f172a !important;
  font-weight: 500 !important;
}

/* Dropdown Option Text */
body.theme-light [role="option"] span,
body.theme-light div[role="option"] span {
  color: inherit !important;
}

/* Dropdown Option Icons (checkmark, etc.) */
body.theme-light [role="option"] svg {
  color: #64748b !important;
}

body.theme-light [role="option"]:hover svg,
body.theme-light [role="option"][aria-selected="true"] svg {
  color: #0f172a !important;
}

/* ------------------ */

/* === Comment Textarea Container & Emoji Button === */

/* Container */
body.theme-light div[class*="bg-[#1A1A1A]"][class*="border-[#252833]"] {
  background-color: #ffffff !important;
  border: 1px solid #e2e8f0 !important;
}

/* Textarea */
body.theme-light div[class*="bg-[#1A1A1A]"] textarea {
  background-color: transparent !important;
  color: #0f172a !important;
  border: none !important;
}

body.theme-light div[class*="bg-[#1A1A1A]"] textarea::placeholder {
  color: #94a3b8 !important;
}

body.theme-light div[class*="bg-[#1A1A1A]"] textarea:focus {
  outline: none !important;
}

/* Emoji Button Default */
body.theme-light div[class*="bg-[#1A1A1A]"] button[aria-label="Add emoji"] {
  color: #94a3b8 !important;
  background-color: transparent !important;
}

body.theme-light div[class*="bg-[#1A1A1A]"] button[aria-label="Add emoji"] svg {
  color: #94a3b8 !important;
  stroke: #94a3b8 !important;
}

/* Emoji Button Hover */
body.theme-light div[class*="bg-[#1A1A1A]"] button[aria-label="Add emoji"]:hover {
  background-color: #f1f5f9 !important;
  color: #0f172a !important;
}

body.theme-light div[class*="bg-[#1A1A1A]"] button[aria-label="Add emoji"]:hover svg {
  color: #0f172a !important;
  stroke: #0f172a !important;
}

/* Emoji Picker Popup (if it appears) */
body.theme-light [class*="emoji-picker"],
body.theme-light [class*="EmojiPicker"],
body.theme-light aside[class*="emoji"] {
  background-color: #ffffff !important;
  border: 1px solid #e2e8f0 !important;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1) !important;
}

body.theme-light [class*="emoji-picker"] button,
body.theme-light [class*="EmojiPicker"] button {
  color: #0f172a !important;
}/* --- LEVEL 1: CONTAINER BLUR (The Shield) --- */
.moctale-spoiler-blur {
    color: transparent !important;
    text-shadow: 0 0 14px rgba(255, 255, 255, 0.4); 
    background: rgba(255, 255, 255, 0.02);
    border-radius: 8px;
    position: relative;
    user-select: none !important;
    cursor: pointer !important;
    transition: background 0.2s ease;
    display: inline-block; /* Fixes badges inside spans */
    width: 100%;
}

/* Hovering the container triggers the button effect */
.moctale-spoiler-blur:hover .moctale-spoiler-badge {
    background-color: #222; /* Lighter dark */
    border-color: #444;
    transform: translate(-50%, -50%) scale(1.05);
    box-shadow: 0 6px 16px rgba(0,0,0,0.7);
}

/* --- THE BADGE (Reveal Button) --- */
/* --- THE BADGE (Refined Reveal Button) --- */
.moctale-spoiler-badge {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 50;

    background-color: #161616;
    border: 1px solid #2f2f2f;
    border-radius: 10px;
    padding: 10px 14px;

    display: flex;
    align-items: center;
    gap: 12px;

    box-shadow:
        0 6px 18px rgba(0,0,0,0.65),
        inset 0 1px 0 rgba(255,255,255,0.04);

    pointer-events: none;
    min-width: max-content;

    transition:
        transform 0.2s cubic-bezier(0.4, 0, 0.2, 1),
        box-shadow 0.2s ease,
        background-color 0.2s ease;
}

/* Icon (Optically Centered) */
.moctale-spoiler-icon {
    color: #a855f7;
    width: 18px;
    height: 18px;
    flex-shrink: 0;

    display: flex;
    align-items: center;
    justify-content: center;

    transform: translateY(-0.5px); /* optical centering */
}

/* Text Column */
.moctale-spoiler-text-col {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: center;
    gap: 4px;
}

/* Main Text (Title) */
.moctale-spoiler-title {
    color: #F3F4F6;
    font-size: 12.5px;
    font-weight: 700;
    line-height: 1.2;
    letter-spacing: 0.2px;

    text-shadow: none;
    white-space: nowrap;
}

/* Subtext (Improved Clarity) */
.moctale-spoiler-sub {
    color: #9CA3AF;
    font-size: 9.5px;
    font-weight: 600;
    line-height: 1.2;

    text-transform: uppercase;
    letter-spacing: 0.12em;

    text-shadow: none;
    opacity: 0.9;
}

/* --- LEVEL 2: REDACTED WORD (The Spoiler Word) --- */
.moctale-redacted-word {
    color: transparent !important;
    /* Heavy blur, NO blue block */
    text-shadow: 0 0 10px rgba(168, 85, 247, 0.8); 
    background: rgba(168, 85, 247, 0.1); 
    
    border-radius: 4px;
    padding: 0 2px;
    
    cursor: pointer;
    user-select: none;
    transition: all 0.2s ease;
}

.moctale-redacted-word:hover {
    background: rgba(168, 85, 247, 0.2);
    text-shadow: 0 0 7px rgba(168, 85, 247, 1);
}

.moctale-redacted-word.revealed {
    color: inherit !important;
    text-shadow: none !important;
    background: transparent !important;
    cursor: text;
    user-select: text;
    padding: 0;
}