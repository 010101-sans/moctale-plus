import{r as e,j as s,c as t}from"./index-D_Ii-jDN.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)}).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();const n={activeTheme:"default",enableLinkifier:!0,enableSpoilerShield:!1,enableDiscussions:!0,enablePlatforms:!0,enableCreative:!0,enableCollectionExport:!0,enableTierList:!0,enableBoxOffice:!0,enableContextMenu:!0,enableShortcuts:!0,enablePickRandom:!0},l="1.5.0",a="010101-sans",i="moctale-plus",o=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})}),r=()=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"}),s.jsx("path",{d:"m5 2 5 5"}),s.jsx("path",{d:"M2 13h15"}),s.jsx("path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"})]}),c=()=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 3v18h18"}),s.jsx("path",{d:"m19 9-5 5-4-4-3 3"})]}),d=({style:e})=>s.jsx("svg",{className:"chevron",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",style:e,children:s.jsx("path",{d:"m6 9 6 6 6-6"})}),h=()=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),s.jsx("polyline",{points:"7 10 12 15 17 10"}),s.jsx("line",{x1:"12",x2:"12",y1:"15",y2:"3"})]}),x=()=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"}),s.jsx("path",{d:"M9 18c-4.51 2-5-2-7-2"})]}),u=()=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 16 16",fill:"currentColor",children:[" ",s.jsx("path",{d:"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"})," "]}),p=()=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M18 6 6 18"}),s.jsx("path",{d:"m6 6 12 12"})]}),g=({title:e,icon:t,isOpen:n,onToggle:l,children:a})=>s.jsxs("div",{className:"section "+(n?"active":""),children:[s.jsxs("div",{className:"section-header",onClick:l,children:[s.jsxs("div",{className:"section-title",children:[s.jsx("div",{className:"section-icon-box",children:t}),e]}),s.jsx(d,{style:{transform:n?"rotate(180deg)":"rotate(0deg)"}})]}),s.jsx("div",{className:"section-content "+(n?"open":""),children:a})]}),m=({label:e,desc:t,checked:n,onChange:l})=>s.jsxs("div",{className:"setting-item",children:[s.jsxs("div",{className:"setting-text",children:[s.jsx("span",{className:"setting-label",children:e}),s.jsx("span",{className:"setting-desc",children:t})]}),s.jsxs("label",{className:"switch",children:[s.jsx("input",{type:"checkbox",checked:n,onChange:e=>l(e.target.checked)}),s.jsx("span",{className:"slider"})]})]}),j=({label:e,value:t,options:n,onChange:l})=>s.jsxs("div",{className:"setting-item setting-item-block",children:[s.jsx("div",{className:"setting-label",style:{marginBottom:12,marginLeft:4},children:e}),s.jsx("div",{className:"theme-select-wrapper",children:s.jsx("select",{className:"theme-select",value:t,onChange:e=>l(e.target.value),children:n.map(e=>s.jsx("option",{value:e.value,children:e.label},e.value))})})]});function b(){const{settings:t,updateSetting:d,loading:b}=(()=>{const[s,t]=e.useState(n),[l,a]=e.useState(!0);return e.useEffect(()=>{"undefined"!=typeof chrome&&chrome.storage?chrome.storage.local.get(n,e=>{t(e),a(!1)}):a(!1)},[]),{settings:s,updateSetting:(e,n)=>{const l={...s,[e]:n};t(l),"undefined"!=typeof chrome&&chrome.storage&&chrome.storage.local.set(l)},loading:l}})(),[v,f]=e.useState(null),[k,w]=e.useState(null),[C,N]=e.useState(!1);e.useEffect(()=>{(async()=>{try{const e=await fetch(`https://api.github.com/repos/${a}/${i}/releases/latest`);if(e.ok){const s=(await e.json()).tag_name;s&&((e,s)=>{const t=e.replace("v","").split(".").map(Number),n=s.replace("v","").split(".").map(Number);for(let l=0;l<3;l++){if(t[l]>n[l])return!0;if(t[l]<n[l])return!1}return!1})(s,l)&&w(s)}}catch(e){console.warn("Update check failed:",e)}})()},[]);const y=e=>{f(v===e?null:e)};return b?s.jsx("div",{className:"loading-screen",children:"Loading..."}):s.jsxs("div",{children:[s.jsxs("div",{className:"header",children:[s.jsxs("div",{className:"logo-container",children:[s.jsx("img",{src:"/icons/logo.png",alt:"Moctale Plus",width:"28",height:"28",style:{borderRadius:6}}),s.jsx("span",{className:"logo-text",children:"Moctale Plus"})]}),k?s.jsxs("a",{href:`https://github.com/${a}/${i}/releases/latest`,target:"_blank",rel:"noopener noreferrer",className:"update-badge",title:`New version ${k} available!`,children:[s.jsx(h,{}),s.jsx("span",{children:"Update"})]}):s.jsxs("span",{className:"version-badge",children:["Beta v",l]})]}),s.jsxs("div",{className:"container",children:[s.jsxs(g,{title:"Enhancements",icon:s.jsx(o,{}),isOpen:"utils"===v,onToggle:()=>y("utils"),children:[s.jsx(m,{label:"More Platforms",desc:"IMDB, TMDB & Letterboxd links",checked:t.enablePlatforms,onChange:e=>d("enablePlatforms",e)}),s.jsx(m,{label:"Reviews & Discussions",desc:"Reddit threads & YouTube reviews",checked:t.enableDiscussions,onChange:e=>d("enableDiscussions",e)}),s.jsx(m,{label:"Creative Content",desc:"Show Fan Art, Cosplay & OSTs",checked:t.enableCreative,onChange:e=>d("enableCreative",e)}),s.jsx(m,{label:"Linkifier",desc:"Make raw text links clickable",checked:t.enableLinkifier,onChange:e=>d("enableLinkifier",e)}),s.jsx(m,{label:"Spoiler Shield",desc:"Blur potential spoilers",checked:t.enableSpoilerShield,onChange:e=>d("enableSpoilerShield",e)}),s.jsx(m,{label:"Context Menu",desc:"Right-click to search Moctale",checked:t.enableContextMenu,onChange:e=>d("enableContextMenu",e)}),s.jsx(m,{label:"Keyboard Shortcuts",desc:"Nav keys (1-6) enabled",checked:t.enableShortcuts,onChange:e=>d("enableShortcuts",e)})]}),s.jsx(g,{title:"Theme & Visuals",icon:s.jsx(r,{}),isOpen:"visuals"===v,onToggle:()=>y("visuals"),children:s.jsx(j,{label:"Active Theme",value:t.activeTheme,onChange:e=>d("activeTheme",e),options:[{value:"default",label:"Default (Dark)"},{value:"light",label:"Light Mode"},{value:"oled",label:"OLED (True Black)"},{value:"coffee",label:"Coffee (Sepia)"},{value:"midnight",label:"Midnight (Deep Blue)"}]})}),s.jsxs(g,{title:"Stats & Data",icon:s.jsx(c,{}),isOpen:"data"===v,onToggle:()=>y("data"),children:[s.jsx(m,{label:"Export Collections",desc:"Enable CSV export button",checked:t.enableCollectionExport,onChange:e=>d("enableCollectionExport",e)}),s.jsx(m,{label:"Tier List Maker",desc:"Download posters for TierMaker",checked:t.enableTierList,onChange:e=>d("enableTierList",e)}),s.jsx(m,{label:"Pick Random Content",desc:"Shuffle button for collections",checked:t.enablePickRandom,onChange:e=>d("enablePickRandom",e)}),s.jsx(m,{label:"Box Office Tracker",desc:"Revenue data in sidebar",checked:t.enableBoxOffice,onChange:e=>d("enableBoxOffice",e)})]})]}),s.jsxs("div",{className:"footer",children:[s.jsxs("div",{className:"footer-links",children:[s.jsxs("a",{href:"https://github.com/010101-sans/moctale-plus",target:"_blank",rel:"noopener noreferrer",className:"footer-link",children:[s.jsx(x,{}),"GitHub"]}),s.jsx("span",{className:"divider",children:"•"}),s.jsxs("button",{className:"footer-link support-btn",onClick:()=>N(!0),children:[s.jsx(u,{}),"Support"]})]}),s.jsxs("div",{className:"footer-copyright",children:["Made with ❤️ by ",s.jsx("a",{href:"https://github.com/010101-sans",target:"_blank",rel:"noopener noreferrer",children:"010101-sans"})]})]}),C&&s.jsx("div",{className:"overlay-backdrop",onClick:()=>N(!1),children:s.jsxs("div",{className:"overlay-card",onClick:e=>e.stopPropagation(),children:[s.jsx("button",{className:"close-btn",onClick:()=>N(!1),children:s.jsx(p,{})}),s.jsx("div",{className:"qr-container",children:s.jsx("img",{src:"/icons/upi-qr.jpg",alt:"UPI QR Code",className:"qr-image"})}),s.jsxs("div",{className:"support-text",children:[s.jsx("span",{className:"upi-id",children:"UPI ID: 010101-sans@pingpay"}),s.jsx("h3",{children:"Buy me a coffee? ☕"}),s.jsxs("p",{children:["Your financial support keeps Moctale Plus ",s.jsx("br",{})," ad-free and constantly updated."]})]})]})})]})}t.createRoot(document.getElementById("root")).render(s.jsx(e.StrictMode,{children:s.jsx(b,{})}));
